{"version":3,"sources":["slices/tickers.js","reducer.js","components/NavBar.jsx","pages/MainPage.jsx","App.jsx","index.js","init.jsx"],"names":["tickersSlice","createSlice","name","initialState","tickers","symbol","price","reducers","addTicker","state","action","push","payload","updateTicker","find","t","actions","combineReducers","tickersReducer","NavBar","AppBar","position","Toolbar","Typography","variant","color","MainPage","useSelector","Container","Grid","container","spacing","map","ticker","item","xs","sm","md","Card","CardHeader","title","subheader","CardContent","App","exact","path","CssBaseline","app","store","configureStore","reducer","rootReducer","socket","WebSocket","onopen","message","stringifiedMessage","JSON","stringify","send","sendMessage","subs","onmessage","data","parse","FROMSYMBOL","PRICE","undefined","dispatch","StrictMode","init","ReactDOM","render","document","getElementById"],"mappings":"wMAEaA,EAAeC,YAAY,CACtCC,KAAM,UACNC,aAAc,CACZC,QAAS,CACP,CACEC,OAAQ,MACRC,MAAO,SAET,CACED,OAAQ,MACRC,MAAO,QAET,CACED,OAAQ,MACRC,MAAO,QAET,CACED,OAAQ,OACRC,MAAO,OAET,CACED,OAAQ,OACRC,MAAO,OAIbC,SAAU,CACRC,UAAW,SAACC,EAAOC,GACjBD,EAAML,QAAQO,KAAKD,EAAOE,UAE5BC,aAAc,SAACJ,EAAOC,GACpB,MAA0BA,EAAOE,QAAzBP,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,MACDG,EAAML,QAAQU,MAAK,SAACC,GAAD,OAAOA,EAAEV,SAAWA,KAC/CC,MAAQA,MAKd,EAGHN,EAAagB,QADfH,GAFK,EACLL,UADK,EAELK,cAGab,IAAf,QC1CeiB,cAAgB,CAC7Bb,QAASc,I,8FCWIC,EAVA,kBACb,cAACC,EAAA,EAAD,CAAQC,SAAS,WAAjB,SACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,UAAlC,gCCgCSC,EA7BE,WACf,IAAQtB,EAAYuB,aAAY,SAAClB,GAAD,OAAWA,EAAML,WAAzCA,QACR,OACE,qCACE,cAAC,EAAD,IACA,+BACE,gCACE,cAACwB,EAAA,EAAD,IACA,cAACA,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACG3B,EAAQ4B,KAAI,SAACC,GAAD,OACX,cAACJ,EAAA,EAAD,CAAMK,MAAI,EAAqBC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAlD,SACE,eAACC,EAAA,EAAD,CAAMd,QAAQ,WAAd,UACE,cAACe,EAAA,EAAD,CACEC,MAAOP,EAAO5B,OACdoC,UAAS,UAAKR,EAAO3B,MAAZ,OAEX,cAACoC,EAAA,EAAD,QANYT,EAAO5B,wBCMxBsC,MAnBf,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,iBAAlB,UACE,cAACC,EAAA,EAAD,IACA,cAAC,EAAD,OAEF,cAAC,IAAD,CAAOD,KAAK,uBAAZ,mBAGA,cAAC,IAAD,8BChBFE,G,MCKS,WACb,IAAMC,EAAQC,YAAe,CAC3BC,QAASC,IAGLC,EAAS,IAAIC,UAAJ,sDAPD,qEAkCd,OAjBAD,EAAOE,OAAS,YANI,SAACC,GACnB,IAAMC,EAAqBC,KAAKC,UAAUH,GAE1CH,EAAOO,KAAKH,GAIZI,CACE,CACElD,OAAQ,SACRmD,KAAM,CAAC,uBAKbT,EAAOU,UAAY,YAAe,IAAZC,EAAW,EAAXA,KACpB,EAA6CN,KAAKO,MAAMD,GAApC1D,EAApB,EAAQ4D,WAA2B3D,EAAnC,EAA4B4D,WACdC,IAAV7D,GAGJ0C,EAAMoB,SAASvD,EAAa,CAAER,SAAQC,YAItC,cAAC,IAAM+D,WAAP,UACE,cAAC,IAAD,CAAUrB,MAAOA,EAAjB,SACE,cAAC,EAAD,QDxCIsB,IACZC,IAASC,OACPzB,EACA0B,SAASC,eAAe,W","file":"static/js/main.655fc277.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nexport const tickersSlice = createSlice({\n  name: 'tickers',\n  initialState: {\n    tickers: [\n      {\n        symbol: 'BTC',\n        price: '50200',\n      },\n      {\n        symbol: 'ETH',\n        price: '4200',\n      },\n      {\n        symbol: 'XMR',\n        price: '1200',\n      },\n      {\n        symbol: 'DOGE',\n        price: '1.4',\n      },\n      {\n        symbol: 'USDT',\n        price: '1',\n      },\n    ],\n  },\n  reducers: {\n    addTicker: (state, action) => {\n      state.tickers.push(action.payload);\n    },\n    updateTicker: (state, action) => {\n      const { symbol, price } = action.payload;\n      const ticker = state.tickers.find((t) => t.symbol === symbol);\n      ticker.price = price;\n    },\n  },\n});\n\nexport const {\n  addTicker,\n  updateTicker,\n} = tickersSlice.actions;\n\nexport default tickersSlice.reducer;\n","import { combineReducers } from '@reduxjs/toolkit';\nimport tickersReducer from './slices/tickers';\n\nexport default combineReducers({\n  tickers: tickersReducer,\n});\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nconst NavBar = () => (\n  <AppBar position=\"relative\">\n    <Toolbar>\n      <Typography variant=\"title\" color=\"inherit\">\n        CryptoWatcher\n      </Typography>\n    </Toolbar>\n  </AppBar>\n);\n\nexport default NavBar;\n","import React from 'react';\nimport {\n  Container,\n  Grid,\n  Card,\n  CardContent,\n  CardHeader,\n} from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport NavBar from '../components/NavBar.jsx';\n\nconst MainPage = () => {\n  const { tickers } = useSelector((state) => state.tickers);\n  return (\n    <>\n      <NavBar />\n      <main>\n        <div>\n          <Container />\n          <Container>\n            <Grid container spacing={4}>\n              {tickers.map((ticker) => (\n                <Grid item key={ticker.symbol} xs={12} sm={6} md={4}>\n                  <Card variant=\"outlined\">\n                    <CardHeader\n                      title={ticker.symbol}\n                      subheader={`${ticker.price}$`}\n                    />\n                    <CardContent />\n                  </Card>\n                </Grid>\n              ))}\n            </Grid>\n          </Container>\n        </div>\n      </main>\n    </>\n  );\n};\n\nexport default MainPage;\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport { CssBaseline } from '@material-ui/core';\nimport MainPage from './pages/MainPage.jsx';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/cryptowatcher\">\n          <CssBaseline />\n          <MainPage />\n        </Route>\n        <Route path=\"/cryptowatcher/login\">\n          Login\n        </Route>\n        <Route>\n          Not Found\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport init from './init.jsx';\nimport './index.css';\n\nconst app = init();\nReactDOM.render(\n  app,\n  document.getElementById('root'),\n);\n","import { configureStore } from '@reduxjs/toolkit';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport rootReducer from './reducer';\nimport { updateTicker } from './slices/tickers';\nimport App from './App.jsx';\n\nconst API_KEY = '2d4f83e4dec4abd61adc8138b775853f144146a20dc4b330465d251fa4c6c517';\n\nexport default () => {\n  const store = configureStore({\n    reducer: rootReducer,\n  });\n\n  const socket = new WebSocket(\n    `wss://streamer.cryptocompare.com/v2?api_key=${API_KEY}`,\n  );\n\n  const sendMessage = (message) => {\n    const stringifiedMessage = JSON.stringify(message);\n\n    socket.send(stringifiedMessage);\n  };\n\n  socket.onopen = () => {\n    sendMessage(\n      {\n        action: 'SubAdd',\n        subs: ['5~CCCAGG~BTC~USD'],\n      },\n    );\n  };\n\n  socket.onmessage = ({ data }) => {\n    const { FROMSYMBOL: symbol, PRICE: price } = JSON.parse(data);\n    if (price === undefined) {\n      return;\n    }\n    store.dispatch(updateTicker({ symbol, price }));\n  };\n\n  return (\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>\n  );\n};\n"],"sourceRoot":""}